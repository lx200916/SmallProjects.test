<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" lang="zh" xml:lang="zh">
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>任务: 合并现有设计元素</title>
<meta content="Task" name="uma.type">
<meta content="incorporate_design_elements" name="uma.name">
<meta content="合并现有设计元素" name="uma.presentationName">
<meta content="Discipline:rup_analysis_design_discipline:分析和设计" name="uma.category">
<meta name="element_type" content="activity">
<meta content="description" name="filetype">
<meta name="role" content="软件设计人员">
<link type="text/css" href="./../../css/default.css" rel="StyleSheet">
<script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageResource.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageSubSection.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/ContentPageToolbar.js"></script><script language="JavaScript" type="text/javascript" src="./../../scripts/contentPage.js"></script><script language="JavaScript" type="text/javascript">
					var backPath = './../../';
					var imgPath = './../../images/';
					var nodeInfo=[{view: "view:_LVCagP5WEdmAzesbYywanQ", path: ["_LVCagP5WEdmAzesbYywanQ", "_zRigkAILEdq-_NKqZM1EhA", "_qwxC8N7YEdmjRZts2c4ZjQ", "{4AC346F0-E6FC-4D2C-8410-2EDF8DDDC91D}", "{5C647173-4E32-4594-96A9-2548B47722FA}"]}, {view: "view:_LVCagP5WEdmAzesbYywanQ", path: ["_LVCagP5WEdmAzesbYywanQ", "_zRigkAILEdq-_NKqZM1EhA", "_IY0NkAISEdqTna4sZVFRow", "_ydt62NnmEdmO6L4XMImrsA", "{5C647173-4E32-4594-96A9-2548B47722FA}"]}, {view: "view:_FCx1oN7CEdmsEI4YDGX2ag", path: ["_FCx1oN7CEdmsEI4YDGX2ag", "_f6_YwN7DEdmsEI4YDGX2ag", "_qwxC8N7YEdmjRZts2c4ZjQ", "{4AC346F0-E6FC-4D2C-8410-2EDF8DDDC91D}", "{5C647173-4E32-4594-96A9-2548B47722FA}"]}, {view: "view:_FCx1oN7CEdmsEI4YDGX2ag", path: ["_FCx1oN7CEdmsEI4YDGX2ag", "_kC0pcN7GEdm8G6yT7-Wdqw", "_ydt62NnmEdmO6L4XMImrsA", "{5C647173-4E32-4594-96A9-2548B47722FA}"]}];
					contentPage.preload(imgPath, backPath, nodeInfo, '', true, false, false);
				</script>
</head>
<body>
<div id="breadcrumbs"></div>
<table width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
<td valign="top">
<div id="page-guid" value="{5C647173-4E32-4594-96A9-2548B47722FA}"></div>
<table width="100%" cellpadding="0" cellspacing="0" border="0">
<tr>
<td nowrap="true" class="pageTitle">任务：合并现有设计元素</td><td width="100%">
<div id="contentPageToolbar" align="right"></div>
</td>
</tr>
</table>
<table cellspacing="0" cellpadding="0" border="0" width="100%">
<tr>
<td class="pageTitleSeparator"><img height="1" title="" alt="" src="./../../images/shim.gif"></td>
</tr>
</table>
<div class="overview">
<table cellpadding="0" cellspacing="0" border="0" width="97%">
<tr>
<td width="50"><img title="" alt="" src="./../../images/task.gif"></td><td>
<table cellpadding="0" cellspacing="0" border="0" class="overviewTable">
<tr>
<td valign="top">此任务描述了如何转变并优化设计模型。</td>
</tr>
<tr>
<td>规程：<a href="./../../core.base_rup/disciplines/rup_analysis_design_discipline_29760231.html" guid="_ydt62NnmEdmO6L4XMImrsA">分析和设计</a></td>
</tr>
</table>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">用途</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<td class="sectionTableSingleCell"><a id="Top" name="Top"></a> 
<ul>
    <li>
        <a id="XE_class__refining_analysis_classes" name="XE_class__refining_analysis_classes"></a>分析分析类的交互以查找接口、设计类和设计子系统
    </li>
    <li>
        优化体系结构，在可能的情况下合并重用。
    </li>
    <li>
        确定常见设计问题的通用解决方案
    </li>
    <li>
        将在体系结构方面重要的设计模型元素包含到软件体系结构文档的逻辑视图部分。
    </li>
</ul></td>
</tr>
</table>
</div>
<div class="sectionHeading">关系</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">角色</th><td width="42%" class="sectionTableCell"><span class="sectionTableCellHeading">主执行者:
								</span>
<ul>
<li>
<a href="./../../core.base_rup/roles/rup_software_architect_DB0BF177.html" guid="{4AC346F0-E6FC-4D2C-8410-2EDF8DDDC91D}">软件设计人员</a>
</li>
</ul>
</td><td class="sectionTableCell"><span class="sectionTableCellHeading">其他执行者:
								</span></td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">输入</th><td width="42%" class="sectionTableCell"><span class="sectionTableCellHeading">必需:
								</span>
<ul>
<li>
<a href="./../../core.base_rup/workproducts/rup_software_architecture_document_C367485C.html" guid="{6F49641A-ED10-47B5-9E5D-3F90A6BF3006}">软件体系结构文档</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_model_2830034D.html" guid="{8CDAEAD4-5E84-4F50-87FD-3240ED047DE7}">设计模型</a>
</li>
</ul>
</td><td class="sectionTableCell"><span class="sectionTableCellHeading">可选:
								</span>
<ul>
<li>无</li>
</ul>
</td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">输出</th><td colspan="2" class="sectionTableCell">
<ul>
<li>
<a href="./../../core.base_rup/workproducts/rup_interface_9816B54F.html" guid="{C6938487-1DAA-4F6A-B3BC-CB99165F0680}">接口</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_software_architecture_document_C367485C.html" guid="{6F49641A-ED10-47B5-9E5D-3F90A6BF3006}">软件体系结构文档</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_package_8376BC8E.html" guid="{80CC5437-F481-487B-A69B-957D9D236D8D}">设计包</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_class_B33BD5E5.html" guid="{952A9CE9-D5A3-43AC-980D-0B9298F3872E}">设计类</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_model_2830034D.html" guid="{8CDAEAD4-5E84-4F50-87FD-3240ED047DE7}">设计模型</a>
</li>
<li>
<a href="./../../core.base_rup/workproducts/rup_design_subsystem_1A8D169B.html" guid="{A3C60B25-9780-4BFA-81AF-C1AD40D8A833}">设计子系统</a>
</li>
</ul>
</td>
</tr>
<tr valign="top">
<th scope="row" class="sectionTableHeading">流程使用情况</th><td class="sectionTableCell" colspan="2">
<ul>
<li>
<a href="./../../core.base_rup/capabilitypatterns/analysis_design_49725AC4.html" guid="{002674F9-6511-4D15-8623-B761D8C48986}">分析和设计</a>
									&nbsp;&gt;&nbsp;
								<a href="./../../core.base_rup/capabilitypatterns/refine_the_architecture_F40FA195.html" guid="{F2160C54-F666-4736-9982-FC7F58F15FAD}">优化体系结构</a>
									&nbsp;&gt;&nbsp;
								<a href="./../../core.base_rup/capabilitypatterns/incorporate_design_elements_68070FFD.html" guid="_XcbLoEocEdqrjq4i3fchvA">合并现有设计元素</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">步骤</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr>
<td class="sectionTableSingleCell">
<div class="stepHeading"> 确定复用机会</div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_reuse__identify_reuse_opportunities" name="XE_reuse__identify_reuse_opportunities" class="index" key="复用（reuse）" text="确定复用机会"></a><a id="Identify Reuse Opportunities" name="Identify Reuse Opportunities"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>目的</b>
            </td>
            <td width="95%">
                确定可以重用现有子系统和／或组件的位置（基于它们的接口）。&nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    <b>查找提供相似接口的现有子系统或组件。</b> 将确定的每个接口与现有子系统或组件提供的接口作比较。通常将不存在精确的匹配，但可找到近似匹配。首先查找相似行为和返回值，然后考虑参数。
</p>
<p>
    <b>修改新确定的接口以提高符合程度</b>。
    对候选接口做出较小的更改是有可能的，这将提高该接口与现有接口的一致性。简单的更改包括重新调整或添加候选接口的参数，然后分解该接口（分割成几个接口），这些接口中的一个或多个与现有组件的接口匹配，并具有位于独立接口中的“新”行为。
</p>
<p>
    <b>当存在精确匹配时，用现有接口替换候选接口。</b> 在简化和分解之后，如果候选接口与现有接口存在精确匹配，则除去候选接口并只使用现有接口。
</p>
<p>
    <b>将候选子系统映射到现有组件。</b> 查看现有组件和该组候选子系统。分解子系统，以便在可能的情况下使用现有组件来满足系统所需行为。在候选子系统可由现有组件实现的情况下，在实施模型中创建设计子系统和组件之间的可跟踪性。
</p>
<p>
    在将子系统映射到可重用的组件上时，请考虑与子系统关联的设计机制；无论操作特征之间其他方面的匹配多完美，性能或安全需求会导致组件失去重用资格。
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> 反向设计组件和数据库</div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_database__reverse_engineering" name="XE_database__reverse_engineering" class="index" key="数据库（database）" text="反向设计"></a><a id="XE_component__reverse_engineer" name="XE_component__reverse_engineer" class="index" key="组件（component）" text="反向设计"></a><a id="XE_code__reverse_engineering" name="XE_code__reverse_engineering" class="index" key="代码（code）" text="反向设计"></a><a id="Reverse Engineer Components and Databases" name="Reverse Engineer Components and Databases"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>目的</b>
            </td>
            <td width="95%">
                合并其他项目、外部源或先前迭代中的可能可重用的模型元素。&nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    可以“提取”现有代码和数据库定义，以使在先前项目或迭代中所做的工作可用于当前项目／迭代。通过将可能的重用机会用作过滤器，反向设计的工作可以只侧重于可重用于当前迭代的组件。
</p>
<h4>
    反向设计组件
</h4>
<p>
    在建立相似系统的组织中，通常有一组常用组件提供新系统所需的多个体系结构机制。也有可在市场上买到的组件，这些组件也提供体系结构机制。应检查现有组件来确定它们在软件体系结构中的适用性和兼容性。
</p>
<p>
    现有组件 － 在先前迭代期间开发但尚未包含在设计模型的组件或购买的组件必须是反向设计的并合并到设计模型中。在设计模型中，这样的组件一般表示成具有一个或多个接口的子系统。
</p>
<h4>
    反向设计数据库
</h4>
<p>
    数据库及其驻留在其中的数据代表可重用资产的最重要的来源之一。
    要重用包含在现有数据库中的隐含类定义，请确定已经驻留在现有数据库中的由应用程序使用的信息。反向设计一组类来表示保存此信息的数据库结构。同时，构造应用程序的类表示和数据库中所用结构之间的映射。 有关反向设计数据库的更多信息，请参阅<a class="elementLinkWithUserText" href="./../../core.base_rup/guidances/guidelines/reverse-engineering_relational_databases_902803B8.html" guid="1.338740134620651E-305">工作产品指南：反向设计关系数据库</a>。有关类和关系数据库中的表之间的映射的更多信息，请参阅<a class="elementLinkWithUserText" href="./../../core.base_rup/guidances/guidelines/data_model_80FB2539.html" guid="3.4196799396281445E-306">工作产品指南：数据模型</a>。
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> 更新设计模型的组织</div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_design_subsystem__defining_low-level_organization_of" name="XE_design_subsystem__defining_low-level_organization_of"></a><a id="Update the Organization of the Design Model" name="Update the Organization of the Design Model"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>目的</b>
            </td>
            <td width="95%">
                说明设计模型组织中的新模型元素。<br />
                 在必要时重新平衡设计模型的结构。&nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    当新元素已添加到设计模型中时，通常需要重新封装设计模型的元素。重新封装实现了几个目标：在设计模型中，减少包之间的耦合度并提高包内的内聚性。最终目标是允许不同的人员或团队相互独立设计和开发不同的包（和子系统）。
    虽然完全独立可能无法实现，但包之间松散的耦合度往往会使大型或复杂系统的开发更轻松。
</p>
<p>
    “平面”模型结构（其中所有包和子系统驻留在系统的相同概念级别）适合于小型系统；更大型系统需要称为“分层”的附加构造工具（请参阅<a class="elementLinkWithUserText" href="./../../core.base_rup/guidances/guidelines/layering_FCCD1BDA.html" guid="4.458864982057142E-306">工作产品指南：分层</a>）。
    分层规则定义某些类型的包之间所允许的关系的限制。这些规则识别不应存在的某些依赖关系：应用程序功能不应直接依赖特定操作系统或窗口系统服务 － 应该存在包含逻辑操作系统和窗口服务的中间层，该层使应用程序功能与低级实施服务中的变更相隔绝。
    分层提供了减少变更影响的一种方法：通过强加限制包和子系统之间的依赖关系的规则，减少包和子系统之间的耦合程度，使系统变得更健壮。并能容忍变更。
</p>
<p>
    当向系统添加新模型元素时，现有的包可能增长得太大以致无法由单个团队管理：必须将这个包分割成包内高度内聚但包间松散耦合的几个包。这样做可能很困难 －
    一些元素可能很难放置在一个特定包中，因为两个包的元素都要使用这些元素。有两种可能的解决方案：将该元素分割成几个对象，每个包中一个（当该元素具有几种“特性”或多组在某种程度上分离的职责时，这样做很有效），或者将该元素移进更低层的某个包中，这样所有更高层元素都可以平等地依赖它。
</p>
<p>
    当系统复杂性增加时，将需要更多的层，以便具有可维护和可理解的结构。但是，超过 7－10 层甚至在最大型系统中也是罕见的，因为随着层数的增加，复杂性会增加，而可理解性会降低。
</p>
<p>
    分层的示例（包括中间件和系统软件层）如下所示：
</p>
<p align="center">
    <img src="./../../core.base_rup/tasks/resources/layers.gif" alt="Java／Web 应用程序布局图" border="0" width="496" height="554" />
</p>
<p class="picturetext">
    基于 Java/Web 的应用程序的示例包分层。 注意：TCP/IP 包上的依赖关系通常不显式建模，因为 TCP/IP 服务的使用封装在 Java VM、java.rmi 和 Web 浏览器中。在此描述它们只是为了说明。
</p>
<p>
    将子系统和各层的职责分配给个人或团队。每个包或子系统应是个人（如果范围很小）或团队（如果范围很大）的职责。
</p></td>
</tr>
</table>
</div>
<div class="stepHeading"> 更新逻辑视图</div>
<div class="stepContent">
<table cellpadding="0" cellspacing="0" border="0" class="stepTable">
<tr valign="top">
<td><a id="XE_logical_view__including_classes_in" name="XE_logical_view__including_classes_in" class="index" key="逻辑视图（logical view）" text="在逻辑视图中包含类"></a><a id="Update the Logical View" name="Update the Logical View"></a>
<div align="left">
    <table border="1" width="100%" cellspacing="0" cellpadding="4" style="border: 1px solid rgb(128,128,128)"     bordercolorlight="#808080" bordercolordark="#808080">
        <tr>
            <td width="5%">
                <b>目的</b>
            </td>
            <td width="95%">
                确保<a class="elementLinkWithUserText" href="./../../core.base_rup/workproducts/rup_software_architecture_document_C367485C.html" guid="{6F49641A-ED10-47B5-9E5D-3F90A6BF3006}">工作产品：软件体系结构文档（逻辑视图）</a>始终是最新的。&nbsp;
            </td>
        </tr>
    </table><br />
</div>
<p>
    当从体系结构的角度来说，设计类、包和子系统（模型元素）很重要时，它们应包含在<a class="elementLinkWithUserText" href="./../../core.base_rup/workproducts/rup_software_architecture_document_C367485C.html" guid="{6F49641A-ED10-47B5-9E5D-3F90A6BF3006}">工作产品：软件体系结构文档</a>的逻辑视图部分。这将确保在体系结构方面重要的新模型元素会传达给其他项目团队成员。
</p>
<p>
    此外，软件设计人员角色与流程工程师角色协作，为设计人员和实施者提供关于如何使用新并入的设计元素的详细指南。
</p><br />
<br /></td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<div class="sectionHeading">更多信息</div>
<div class="sectionContent">
<table cellpadding="0" cellspacing="0" border="0" class="sectionTable">
<tr valign="top">
<th scope="row" class="sectionTableHeading">工具向导</th><td class="sectionTableCell">
<ul>
<li>
<a href="./../../core.base_rup/guidances/toolmentors/reverse_engineer_code_D4050BB0.html" guid="{D674D96E-1A37-48D1-B120-6145C9802E3E}">使用 Rational Rose 反向设计代码</a>
</li>
<li>
<a href="./../../core.base_rup/guidances/toolmentors/incorporating_existing_design_elements_EF175FD6.html" guid="{10AF28B5-15F1-4F58-BBB3-14EB49123FBC}">使用 Rational XDE Developer 合并现有设计元素</a>
</li>
</ul>
</td>
</tr>
</table>
</div>
<table cellpadding="0" cellspacing="0" border="0" class="copyright">
<tr>
<td class="copyright"><p>
    &copy; &nbsp;Copyright IBM Corp.&nbsp;1987, 2006. &nbsp;All Rights Reserved.
</p></td>
</tr>
</table>
</td>
</tr>
</table>
</body>
<script language="JavaScript" type="text/javascript">
				contentPage.onload();
			</script>
</html>
